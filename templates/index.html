{% extends 'base.html' %}

{% block content %}
<div class="row my-4">
    <div class="col-md-3">
        <div class="card bg-primary text-white">
            <div class="card-body">
                <h5 class="card-title">Scans Completed</h5>
                <p class="card-text">150</p>
                <a href="#" class="btn btn-light">View Details</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-warning text-white">
            <div class="card-body">
                <h5 class="card-title">Warnings</h5>
                <p class="card-text">23</p>
                <a href="#" class="btn btn-light">View Details</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-success text-white">
            <div class="card-body">
                <h5 class="card-title">Resolved</h5>
                <p class="card-text">120</p>
                <a href="#" class="btn btn-light">View Details</a>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-danger text-white">
            <div class="card-body">
                <h5 class="card-title">Critical Issues</h5>
                <p class="card-text">5</p>
                <a href="#" class="btn btn-light">View Details</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Vulnerability Trends</h5>
                <canvas id="areaChart"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Issues by Severity</h5>
                <canvas id="barChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Area Chart Example
    const areaCtx = document.getElementById('areaChart').getContext('2d');
    new Chart(areaCtx, {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
                label: 'Vulnerabilities Found',
                data: [100, 200, 150, 300, 250, 400],
                borderColor: 'rgba(0, 123, 255, 1)',
                backgroundColor: 'rgba(0, 123, 255, 0.2)',
            }]
        },
        options: {
            responsive: true,
        }
    });

    // Bar Chart Example
    const barCtx = document.getElementById('barChart').getContext('2d');
    new Chart(barCtx, {
        type: 'bar',
        data: {
            labels: ['Low', 'Medium', 'High', 'Critical'],
            datasets: [{
                label: 'Issues by Severity',
                data: [50, 40, 30, 10],
                backgroundColor: ['#28a745', '#ffc107', '#dc3545', '#6f42c1']
            }]
        },
        options: {
            responsive: true,
        }
    });
</script>
{% endblock %}
